import{b as t,al as h,j as e,q as b}from"./index-BvU1E0rR.js";const j=({setIsLoggedIn:u})=>{const[l,m]=t.useState(""),[o,g]=t.useState(""),[n,c]=t.useState(""),a=h();t.useEffect(()=>{localStorage.getItem("userToken")&&a("/dashboard")},[a]);const x=async s=>{var d,i;s.preventDefault(),c("");try{const r=await b.post("http://localhost:5000/api/login",{username:l,password:o},{withCredentials:!0});localStorage.setItem("userToken",r.data.token),u(!0),a("/dashboard")}catch(r){c(((i=(d=r.response)==null?void 0:d.data)==null?void 0:i.error)||"Login failed")}};return e.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-96",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Login"}),n&&e.jsx("p",{className:"text-red-500 text-sm mb-4",children:n}),e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700",children:"Username"}),e.jsx("input",{type:"text",className:"w-full p-2 border rounded-lg",value:l,onChange:s=>m(s.target.value),required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700",children:"Password"}),e.jsx("input",{type:"password",className:"w-full p-2 border rounded-lg",value:o,onChange:s=>g(s.target.value),required:!0})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white p-2 rounded-lg hover:bg-blue-600",children:"Login"})]})]})})};export{j as default};
