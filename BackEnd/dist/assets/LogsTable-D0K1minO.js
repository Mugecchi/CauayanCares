import{a as l,j as e,ak as p,J as i,a4 as u,b4 as j}from"./index-C8JWgRoo.js";import{T as f,a as m,b,c,d as a,e as g}from"./TableRow-Dpjbb2Q3.js";import{C as t}from"./Chip-Cd8YGuBz.js";const L=()=>{const[o,n]=l.useState([]),[d,x]=l.useState(!0);l.useEffect(()=>{(async()=>{try{const r=await j();n(r)}catch(r){console.error("Error fetching logs:",r),n([])}finally{x(!1)}})()},[]);const h=s=>{const r=s.toLowerCase();return r.includes("added")?e.jsx(t,{label:s,color:"success",size:"small"}):r.includes("edited")?e.jsx(t,{label:s,color:"warning",size:"small"}):r.includes("deleted")?e.jsx(t,{label:s,color:"error",size:"small"}):e.jsx(t,{label:`Unknown Action: ${s}`,color:"default",size:"small"})};return e.jsxs(p,{sx:{padding:2},children:[e.jsx(i,{variant:"h6",gutterBottom:!0,fontWeight:600,sx:{color:"#ff7706",textShadow:"1px 1px 2px  #fff",background:"1px 1px 2px  rgba(255, 255, 255, 0.36)",backdropFilter:"blur(10px)",borderRadius:"1000px"},children:"Ordinance Activity Logs"}),d?e.jsx(u,{}):o.length===0?e.jsx(i,{variant:"body2",children:"No logs found."}):e.jsx(f,{children:e.jsxs(m,{children:[e.jsx(b,{children:e.jsxs(c,{children:[e.jsx(a,{children:"User"}),e.jsx(a,{children:"Record"}),e.jsx(a,{children:"Activity"}),e.jsx(a,{children:"Timestamp"})]})}),e.jsx(g,{children:o.map((s,r)=>e.jsxs(c,{children:[e.jsx(a,{children:s.username||"Unknown User"}),e.jsx(a,{children:` ${s.number}`}),e.jsx(a,{children:h(s.action)}),e.jsx(a,{children:s.timestamp?new Date(s.timestamp).toLocaleString():"No Date"})]},r))})]})})]})};export{L as default};
