import{a as n,j as e,P as j,A as i,O as m,aU as u}from"./index-CJhurDKw.js";import{T as p,a as g,b,c,d as r,e as f}from"./TableRow-BR0V0JYl.js";import{C as t}from"./Chip-DvUmVRR6.js";const w=()=>{const[l,o]=n.useState([]),[d,h]=n.useState(!0);n.useEffect(()=>{(async()=>{try{const a=await u();o(a)}catch(a){console.error("Error fetching logs:",a),o([])}finally{h(!1)}})()},[]);const x=s=>{switch(s){case"added":return e.jsx(t,{label:"Added",color:"success",size:"small"});case"edited":return e.jsx(t,{label:"Edited",color:"warning",size:"small"});case"deleted":return e.jsx(t,{label:"Deleted",color:"error",size:"small"});default:return e.jsx(t,{label:"Unknown Action",color:"default",size:"small"})}};return e.jsxs(j,{sx:{padding:2},children:[e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Ordinance Activity Logs"}),d?e.jsx(m,{}):l.length===0?e.jsx(i,{variant:"body2",children:"No logs found."}):e.jsx(p,{children:e.jsxs(g,{children:[e.jsx(b,{children:e.jsxs(c,{children:[e.jsx(r,{children:"User"}),e.jsx(r,{children:"Record"}),e.jsx(r,{children:"Activity"}),e.jsx(r,{children:"Timestamp"})]})}),e.jsx(f,{children:l.map((s,a)=>e.jsxs(c,{children:[e.jsx(r,{children:s.username||"Unknown User"}),e.jsx(r,{children:` ${s.number}`}),e.jsx(r,{children:x(s.action)}),e.jsx(r,{children:s.timestamp?new Date(s.timestamp).toLocaleString():"No Date"})]},a))})]})})]})};export{w as default};
