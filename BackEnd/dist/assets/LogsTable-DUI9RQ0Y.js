import{a as l,j as e,P as j,A as i,U as m,aX as u}from"./index-BIG_Oc3E.js";import{T as g,a as p,b,c,d as r,e as f}from"./TableRow-C-V-EngA.js";import{C as t}from"./Chip-CXXPVmjS.js";const w=()=>{const[n,o]=l.useState([]),[d,h]=l.useState(!0);l.useEffect(()=>{(async()=>{try{const a=await u();o(a)}catch(a){console.error("Error fetching logs:",a),o([])}finally{h(!1)}})()},[]);const x=s=>{switch(s){case"added":return e.jsx(t,{label:"Added",color:"success",size:"small"});case"edited":return e.jsx(t,{label:"Edited",color:"warning",size:"small"});case"deleted":return e.jsx(t,{label:"Deleted",color:"error",size:"small"});default:return e.jsx(t,{label:"Unknown Action",color:"default",size:"small"})}};return console.log(n),e.jsxs(j,{sx:{padding:2},children:[e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Ordinance Activity Logs"}),d?e.jsx(m,{}):n.length===0?e.jsx(i,{variant:"body2",children:"No logs found."}):e.jsx(g,{children:e.jsxs(p,{children:[e.jsx(b,{children:e.jsxs(c,{children:[e.jsx(r,{children:"User"}),e.jsx(r,{children:"Record"}),e.jsx(r,{children:"Activity"}),e.jsx(r,{children:"Timestamp"})]})}),e.jsx(f,{children:n.map((s,a)=>e.jsxs(c,{children:[e.jsx(r,{children:s.last_name||"Unknown User"}),e.jsx(r,{children:s.ordinance_id||"No Number"}),e.jsx(r,{children:x(s.action)}),e.jsx(r,{children:s.timestamp?new Date(s.timestamp).toLocaleString():"No Date"})]},a))})]})})]})};export{w as default};
