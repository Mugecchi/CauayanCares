import{a as n,j as e,ah as j,J as o,a1 as u,b0 as m}from"./index-Bfq1WVLN.js";import{T as f,a as g,b as p,c,d as r,e as b}from"./TableRow-CZwIbitv.js";import{C as a}from"./Chip-C3r62MZC.js";const w=()=>{const[t,i]=n.useState([]),[d,h]=n.useState(!0);n.useEffect(()=>{(async()=>{try{const l=await m();i(l)}catch(l){console.error("Error fetching logs:",l),i([])}finally{h(!1)}})()},[]);const x=s=>s.includes("added")?e.jsx(a,{label:`${s}`,color:"success",size:"small"}):s.includes("edited")?e.jsx(a,{label:`${s}`,color:"warning",size:"small"}):s.includes("deleted")?e.jsx(a,{label:`${s}`,color:"error",size:"small"}):e.jsx(a,{label:`Unknown Action: ${s}`,color:"default",size:"small"});return e.jsxs(j,{sx:{padding:2},children:[e.jsx(o,{variant:"h6",gutterBottom:!0,children:"Ordinance Activity Logs"}),d?e.jsx(u,{}):t.length===0?e.jsx(o,{variant:"body2",children:"No logs found."}):e.jsx(f,{children:e.jsxs(g,{children:[e.jsx(p,{children:e.jsxs(c,{children:[e.jsx(r,{children:"User"}),e.jsx(r,{children:"Record"}),e.jsx(r,{children:"Activity"}),e.jsx(r,{children:"Timestamp"})]})}),e.jsx(b,{children:t.map((s,l)=>e.jsxs(c,{children:[e.jsx(r,{children:s.username||"Unknown User"}),e.jsx(r,{children:` ${s.number}`}),e.jsx(r,{children:x(s.action)}),e.jsx(r,{children:s.timestamp?new Date(s.timestamp).toLocaleString():"No Date"})]},l))})]})})]})};export{w as default};
