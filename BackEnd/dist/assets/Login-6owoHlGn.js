import{b as a,al as b,j as e,am as u}from"./index-DMtwjdlq.js";const j=({setIsLoggedIn:r})=>{const[l,m]=a.useState(""),[o,g]=a.useState(""),[c,i]=a.useState(""),n=b();a.useEffect(()=>{(async()=>{try{(await u.get("/check-session")).data.logged_in&&(r(!0),n("/dashboard"))}catch{console.log("Not logged in")}})()},[n,r]);const h=async s=>{var t,d;s.preventDefault(),i("");try{await u.post("/login",{username:l,password:o}),r(!0),n("/dashboard")}catch(x){i(((d=(t=x.response)==null?void 0:t.data)==null?void 0:d.error)||"Login failed")}};return e.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-96",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Login"}),c&&e.jsx("p",{className:"text-red-500 text-sm mb-4",children:c}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700",children:"Username"}),e.jsx("input",{type:"text",className:"w-full p-2 border rounded-lg",value:l,onChange:s=>m(s.target.value),required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700",children:"Password"}),e.jsx("input",{type:"password",className:"w-full p-2 border rounded-lg",value:o,onChange:s=>g(s.target.value),required:!0})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white p-2 rounded-lg hover:bg-blue-600",children:"Login"})]})]})})};export{j as default};
